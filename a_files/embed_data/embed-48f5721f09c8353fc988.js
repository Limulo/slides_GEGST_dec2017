!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(this,function(){return webpackJsonp([42],{1e3:function(e,t,n){"use strict";var a=n(10),i=n.n(a),r=function(){return{_viewer:void 0,version:"0.2",initialize:function(e,t){this._viewer=e,this._uid=t;var n=this;window.addEventListener("message",function(e){if(e.data&&e.data.command){var t=e.data;"initialize"!==t.command&&Object.prototype.hasOwnProperty.call(n,t.command)&&n[t.command].call(n,t)}},!1)},ready:function(){this.answer({status:"load"})},clientReady:function(){return i.a.resolve()},answer:function(e){e.source=this._uid,void 0!==window.parent&&window.parent.postMessage(e,"*")},start:function(){this._viewer.start(),this.answer({status:"start"})},stop:function(){this._viewer.stop(),this.answer({status:"stop"})},lookat:function(e){this._viewer.lookat&&(this._viewer.lookat(e.eye,e.target,e.duration),window.setTimeout(function(){this.answer({status:"lookat"})}.bind(this),1e3*e.duration),this.answer({status:"lookat start"}))},autospin:function(e){!1===e&&(e=0),this.answer({status:"autospin"})},getViewerAPI:function(){}}};t.a=r},1001:function(e,t,n){"use strict";var a=n(6),i=a.a.osg,r=function(){i.NodeVisitor.apply(this,arguments),this.reset()};i.createPrototypeObject(r,i.objectInherit(i.NodeVisitor.prototype,{reset:function(){this._nodes=[],this._nodeMap={},this._nodeList={},this._dirty=!0},isDirty:function(){return this._dirty},getRootNode:function(){return this._nodes[0]},getRealNodeMap:function(){return this._nodeList},getRepresentationNodeMap:function(){return this._nodeMap},createNodeEntry:function(e){this._dirty=!1;var t=e.getInstanceID();this._nodeList[t]||(this._nodeList[t]=e);var n={name:e.getName(),instanceID:e.getInstanceID(),nodeMask:e.getNodeMask()};return this._nodeMap[t]||(this._nodeMap[t]=n),n},applyNode:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="Group",t.push(n),this._nodes=t},applyMatrixTransform:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.children=this._nodes,n.type="MatrixTransform",n.localMatrix=i.mat4.clone(e.getMatrix()),n.worldMatrix=e.getWorldMatrices()[0],t.push(n),this._nodes=t},applyGeometry:function(e){var t=this._nodes;this._nodes=[],this.traverse(e);var n=this.createNodeEntry(e);n.type=e.className(),t.push(n),this._nodes=t},apply:function(e){var t=e.getTypeID();t===i.Node.typeID?this.applyNode(e):t===i.MatrixTransform.typeID?this.applyMatrixTransform(e):e instanceof i.Geometry?this.applyGeometry(e):this.traverse(e)}})),t.a=r},1002:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return l});var a=n(27),i=n(6),r=i.a.osg,o=function(e,t,n,a,i){this._source=e,this._target=t,this._duration=n,this._started=-1,this._easing=a,this._finished=!1,this._callback=i};o.prototype={isFinished:function(){return this._finished},update:function(e,t){if(this._finished)return!0;a.a.draw();var n=t.getFrameStamp().getSimulationTime();this._started<0&&(this._started=n);var i=(n-this._started)/this._duration;return i>1&&(this._finished=!0,this._callback&&this._callback(this._result),i=1),this._easing&&(i=this._easing(i)),this.interpolate(i,e),!0}};var s=function(e,t,n,a,i){o.call(this,e,t,n,a,i),this._result=r.vec3.create()};s.prototype=r.objectInherit(o.prototype,{interpolate:function(e,t){r.vec3.lerp(this._result,this._source,this._target,e),r.mat4.setTranslation(t.getMatrix(),this._result)}});var l=function(e,t,n,a,i){o.call(this,e,t,n,a,i),this._result=r.quat.create(),this._translate=r.vec3.create(),this._finalResult=r.mat4.create()};l.prototype=r.objectInherit(o.prototype,{interpolate:function(e,t){r.quat.slerp(this._result,this._source,this._target,e),r.mat4.getTranslation(this._translate,t.getMatrix()),r.mat4.fromQuat(this._finalResult,this._result),r.mat4.setTranslation(this._finalResult,this._translate),r.mat4.copy(t.getMatrix(),this._finalResult)}})},1004:function(e,t,n){"use strict";var a=n(58),i=n(998),r=n.n(i),o=n(999),s=function(e){this._definitions={},this._instance=void 0,this._instanceId=e,this._name=void 0,this._defer=new a.a};s.create=function(e,t,n,a){var i;if(t){var l=t;i=new s(e);var c=r.a[t];if(!c){var u=Object.keys(r.a),d=u[u.length-1];c=r.a[d],console.warn("you requested api version "+t+" but this version is not available. Returned api version "+d+" instead"),l=d}i.register(l,c,new o.a(n))}else i=new o.a.LegacyCore,i.initialize(n,a),console.warn("you are using a deprecated api, please update to the new one, read mode xxxx");return i},s.prototype={ready:function(){window.parent&&window.parent.postMessage({type:"api.ready",instanceId:this._instanceId,results:[this._instanceId]},"*")},clientReady:function(){return this._defer.promise},register:function(e,t,n){this._name=e,this._members=Object.keys(t),this._membersMapping=t,this._instance=n,this.init()},getViewerAPI:function(){return this._instance},init:function(){window.addEventListener("message",function(e){if("api.initialize"!==e.data.type)return void this._defer.resolve();try{if(this._name!==e.data.name)throw"No API named '"+e.data.name+"'";var t=this._members,n=this._instance;if(void 0!==n.addGlobalListener){var a=function(){var t={type:"api.event",instanceId:this._instanceId,results:Array.prototype.slice.call(arguments)};e.source.postMessage(t,"*")}.bind(this);n.addGlobalListener(a)}e.source.postMessage({type:"api.initialize.result",instanceId:this._instanceId,requestId:e.data.requestId,results:[null,this._instanceId,t]},"*")}catch(t){e.source.postMessage({type:"api.initialize.result",instanceId:this._instanceId,requestId:e.data.requestId,results:[t]},"*")}}.bind(this)),window.addEventListener("message",function(e){if("api.request"===e.data.type)try{if(this._instanceId!==e.data.instanceId)throw"Invalid request : instance does not exists";var t=Object.getPrototypeOf(this._instance),n=this._membersMapping[e.data.member];if("-"===n&&(n=e.data.member),!n||!t[n])throw"Invalid request : member function does not exists: "+n;if("function"!=typeof t[n])throw"Invalid request : member function does not exists: "+n;for(var a=t[n],i=e.data.arguments.slice(),r=i.length-1;r>=0&&void 0===i[r];r--)i.splice(r,1);a.length&&(i.length=a.length-1),i.push(function(){e.source.postMessage({type:"api.request.result",instanceId:this._instanceId,requestId:e.data.requestId,results:Array.prototype.slice.call(arguments)},"*")}.bind(this)),a.apply(this._instance,i)}catch(t){console.error(t),e.source.postMessage({type:"api.request.result",instanceId:this._instanceId,requestId:e.data.requestId,results:[t.stack?t.stack:t]},"*")}}.bind(this))}},t.a=s},1017:function(e,t,n){"use strict";function a(){this.handlers=[],this.events=[]}a.prototype={subscribe:function(e){this.events.forEach(function(t){e(t.name,t.args)});var t=this.handlers.push(e);return function(){this.handlers.split(t-1,1)}},emit:function(e,t){this.events.push({name:e,args:t}),this.handlers.forEach(function(n){n(e,t)})}},t.a=a},1242:function(e,t,n){"use strict";var a=n(2),i=n.n(a),r=n(0),o=(n.n(r),n(37)),s=n.n(o),l=n(5),c=n(16),u=n(7),d=n(105),h=n(592),f=n(1004),p=n(589),m=n(11),g=l.a.extend({mixins:[d.a],events:{'click [data-action="start"]':"start",'click [data-action="allowRestricted"]':"allowRestricted","mouseenter .avatar[data-user]":"enterAvatar","mouseleave .avatar[data-user]":"leaveAvatar","mouseenter .user-summary":"enterUserSummary","mouseleave .user-summary":"leaveUserSummary"},getUserSummary:function(){n.e(22).then(function(){var e=n(583).default;this.userSummary=new e}.bind(this).bind(null,n)).catch(n.oe)},initialize:function(){if(l.a.prototype.initialize.apply(this,arguments),!0!==this.model.get("isDeleted")){var e=!!n.i(c.a)().autostart;(e||n.i(c.a)().apiId)&&this.start(e);var t=n.i(c.a)().uiInfos;if(void 0===t){var a=n.i(c.a)().descButton;t=void 0===a||a}s.a.any||this.getUserSummary(),this.handleLazyLoading(),this.initializeSharingOverlay()}},start:n.i(r.once)(function(e){this.initializeViewer(e)}),allowRestricted:function(){u.a.me().setAllowsRestricted(!0),this.$(".overlay.restricted").addClass("hidden")},initializeSharingOverlay:function(){n.e(21).then(function(){var e=n(2140).default;this.shareOverlay=new e({el:this.$(".share.overlay"),model:this.model,embedPage:this}),this.onShareClick=this.onShareClick.bind(this),this.$(".titlebar .actions .share").on("click",this.onShareClick)}.bind(this).bind(null,n)).catch(n.oe)},onShareClick:function(){this.shareOverlay.show(),m.a.modelEmbedShareButtonClicked(this.model.get("uid"))},onViewerStart:function(){this.$(".titlebar .actions .share").off("click",this.onShareClick)},onViewerStop:function(){},initializeViewer:function(e){var t=this.$(".viewer");this.$(".play").addClass("loading"),e&&t.addClass("started");var a=new h.a({el:t});this.viewer=a;var i=n.i(c.a)().apiVersion,r=f.a.create(n.i(c.a)().apiId,i,a,this.model.get("uid"));a.on("start",this.onViewerStart),a.on("stop",this.onViewerStop),a.setScene({uid:this.model.get("uid"),features:p.a,viewerAPI:r.getViewerAPI()}),this.$(".play").removeClass("loading"),r?(this.api=r,r.ready(),r.clientReady().then(function(){e&&a.start(e)})):e&&a.start(e)},toggleUserSummary:function(){var e=!(!this.inAvatar&&!this.inUserSummary);this.userSummary[e?"show":"hide"]()},enterAvatar:function(e){var t=i()(e.currentTarget).data("user");this.inAvatar=!0,this.userSummary.setUser(t),this.userSummary.anchor(e.currentTarget),this.toggleUserSummary()},leaveAvatar:function(){this.inAvatar=!1,this.toggleUserSummary()},enterUserSummary:function(){this.inUserSummary=!0,this.toggleUserSummary()},leaveUserSummary:function(){this.inUserSummary=!1,this.toggleUserSummary()}});t.a=g},1248:function(e,t){},146:function(e,t,n){"use strict";var a=n(2),i=n.n(a);t.a=function(){i()(document).on("focus blur","*",function(e){var t=i()(e.target).attr("id"),n=e.target===document.activeElement;void 0!==t&&i()("label[for]").filter(function(){return i()(this).attr("for")===t}).toggleClass("focused",n)}),i()(document).on("input","input, textarea",function(e){i()(e.target).addClass("edited").toggleClass("empty",""===i()(e.target).val())}),i()(document).on("submit","form:not([action])",function(e){e.preventDefault()}),i()(".hover-menu").css("display","none"),i()(document.documentElement).addClass("ready"),i()(document).on("keydown","form textarea",function(e){e.ctrlKey&&13===e.keyCode&&i()(e.target).closest("form").submit()}),i()(document).on("click","[data-link]",function(e){(e.currentTarget!==e.target?i()(e.target).parentsUntil(e.currentTarget):i()()).andSelf().filter("a, [data-link], [data-action]").length>0||(e.metaKey||e.ctrlKey?window.open(i()(e.currentTarget).attr("data-link")):document.location=i()(e.currentTarget).attr("data-link"))}),i()(document).on("click","a",function(e){if(0!==(e.currentTarget!==e.target?i()(e.target).parentsUntil(e.currentTarget):i()()).andSelf().filter("[data-link], [data-action]").length){var t=i()(e.target).parents().filter("[href]");0!==t.length&&"#"!==t.eq(0).attr("href")||e.preventDefault()}}),i()(document).on("mousedown","label[for]",function(e){if(e.target===e.currentTarget){var t=i()(e.currentTarget).attr("for"),n=document.getElementById(t);n&&n===document.activeElement&&e.preventDefault()}}),i()(document).on("mouseover",":has(> .hover-menu)",function(e){var t=i()(e.currentTarget);t.children(".hover-menu").css("display",""),i()(".hover-menu").not(t.parents(".hover-menu")).not(t.find(".hover-menu")).css("display","none")})}},1504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(70),n(19)),i=n(14),r=n.n(i),o=n(2),s=(n.n(o),n(2106)),l=(n.n(s),n(2105)),c=(n.n(l),n(1900)),u=n(44),d=n(18),h=n(765),f=n(700),p=n(498),m=n(1933),g=n(1242),v=n(16),w=n.i(h.b)().host,y=!1;if(w===window.location.host?y=!0:a.a.internalDomains.forEach(function(e){w===e.domain?y=!0:e.allowSubdomains&&w&&w.endsWith("."+e.domain)&&(y=!0)}),n.i(v.a)().internal&&!y)document.location.replace(d.a.craft("?",d.a.reset(window.location.search.substr(1),{internal:null})));else if(n.i(f.a)(),n.i(p.a)()){n.i(m.a)();var _=document.location.pathname.match(/models\/(.*?)\/embed/)[1];u.a.get(_).then(function(e){new g.a({model:e,el:"body"})})}else new c.a,r.a.history.start({pushState:!0})},166:function(e,t,n){"use strict";var a=n(2),i=n.n(a),r=n(41),o={"http:":"80","https:":"443"};t.a=function(){i()(document).ajaxSend(function(e,t,n){var a=window.location,i=document.createElement("a");i.href=n.url,i.href=i.href;var s=i.port;s="0"!==s?s:o[i.protocol],s=s!==o[i.protocol]?s:"",i.protocol!==a.protocol||i.hostname!==a.hostname||s!==a.port||t.setRequestHeader("X-CsrfToken",r.a.get("csrftoken"))})}},1900:function(e,t,n){"use strict";var a=(n(1931),n(0)),i=(n.n(a),n(93)),r=n(44),o=n(18),s=n(1242);t.a=i.a.extend({routes:n.i(a.extend)({},i.a.prototype.routes,{"models/:modelUid/embed":"embed"}),embed:function(e){e=o.a.string("model",e),r.a.get(e).then(function(e){new s.a({model:e,el:"body"})})}})},1931:function(e,t,n){"use strict";var a=n(183);n.i(a.default)(!0)},1933:function(e,t,n){"use strict";t.a=function(){var e=["Float32Array","Uint32Array","Int32Array","Uint16Array","Int16Array","Uint8Array","Int8Array"];for(var t in e)window[e[t]]=function(){return[]}}},2105:function(e,t,n){window.glStats=function(){function e(e,t){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function t(){r("allcalls").set(o+s),r("drawElements").set(s),r("drawArrays").set(o),r("bindTexture").set(h),r("useProgram").set(l),r("glfaces").set(c),r("glvertices").set(u),r("glpoints").set(d)}function n(){o=0,s=0,l=0,c=0,u=0,d=0,h=0}function a(){}function i(e){r=e}var r=null,o=0,s=0,l=0,c=0,u=0,d=0,h=0;return WebGLRenderingContext.prototype.drawArrays=e(WebGLRenderingContext.prototype.drawArrays,function(){o++,arguments[0]==this.POINTS?d+=arguments[2]:u+=arguments[2]}),WebGLRenderingContext.prototype.drawElements=e(WebGLRenderingContext.prototype.drawElements,function(){s++,c+=arguments[1]/3,u+=arguments[1]}),WebGLRenderingContext.prototype.useProgram=e(WebGLRenderingContext.prototype.useProgram,function(){l++}),WebGLRenderingContext.prototype.bindTexture=e(WebGLRenderingContext.prototype.bindTexture,function(){h++}),{update:t,start:n,end:a,attach:i,values:{allcalls:{over:3e3,caption:"Calls (hook)"},drawelements:{caption:"drawElements (hook)"},drawarrays:{caption:"drawArrays (hook)"}},groups:[{caption:"WebGL",values:["allcalls","drawelements","drawarrays","useprogram","bindtexture","glfaces","glvertices","glpoints"]}],fractions:[{base:"allcalls",steps:["drawelements","drawarrays"]}]}},window.threeStats=function(e){function t(){r("renderer.info.memory.geometries").set(e.info.memory.geometries),r("renderer.info.programs").set(e.info.programs.length),r("renderer.info.memory.textures").set(e.info.memory.textures),r("renderer.info.render.calls").set(e.info.render.calls),r("renderer.info.render.faces").set(e.info.render.faces),r("renderer.info.render.points").set(e.info.render.points),r("renderer.info.render.vertices").set(e.info.render.vertices)}function n(){}function a(){}function i(e){r=e}var r=null;return{update:t,start:n,end:a,attach:i,values:{"renderer.info.memory.geometries":{caption:"Geometries"},"renderer.info.memory.textures":{caption:"Textures"},"renderer.info.programs":{caption:"Programs"},"renderer.info.render.calls":{caption:"Calls"},"renderer.info.render.faces":{caption:"Faces",over:1e3},"renderer.info.render.points":{caption:"Points"},"renderer.info.render.vertices":{caption:"Vertices"}},groups:[{caption:"Three.js - Memory",values:["renderer.info.memory.geometries","renderer.info.programs","renderer.info.memory.textures"]},{caption:"Three.js - Render",values:["renderer.info.render.calls","renderer.info.render.faces","renderer.info.render.points","renderer.info.render.vertices"]}],fractions:[]}},window.BrowserStats=function(){function e(e){var t=Math.floor(Math.log(e)/h);return Math.round(100*e/Math.pow(1024,t))/100}function t(){o=e(l.usedJSHeapSize),s=e(l.totalJSHeapSize),r("memory").set(o),r("total").set(s)}function n(){o=0}function a(){}function i(e){r=e}var r=null,o=0,s=0,l={usedJSHeapSize:0,totalJSHeapSize:0};window.performance&&performance.memory&&(l=performance.memory),0===l.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var c={memory:{caption:"Used Memory",average:!0,avgMs:1e3,over:22},total:{caption:"Total Memory"}},u=[{caption:"Browser",values:["memory","total"]}],d=[{base:"total",steps:["memory"]}],h=Math.log(1024);return{update:t,start:n,end:a,attach:i,values:c,groups:u,fractions:d}},e.exports={glStats:window.glStats,threeStats:window.threeStats,BrowserStats:window.BrowserStats}},2106:function(e,t,n){"use strict";!function(){if(void 0===window.performance&&(window.performance={}),!window.performance.now){var e=Date.now();performance.timing&&performance.timing.navigationStart&&(e=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-e}}window.performance.mark||(window.performance.mark=function(){}),window.performance.measure||(window.performance.measure=function(){})}(),window.rStats=function(e){function t(e,t){for(var n=Object.keys(e),a=0,i=n.length;a<i;a++)t(n[a])}function n(e){var t=document.createElement("link");t.href=e,t.rel="stylesheet",t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t)}function a(e,t,n){function a(e,t){l+=.1*(e-l),s*=.99,l>s&&(s=l),o.drawImage(r,1,0,r.width-1,r.height,0,0,r.width-1,r.height),t?o.drawImage(h,r.width-1,r.height-l*r.height/s-f):o.drawImage(u,r.width-1,r.height-l*r.height/s-f)}var i=n||{},r=document.createElement("canvas"),o=r.getContext("2d"),s=0,l=0,c=i.color?i.color:"#666666",u=document.createElement("canvas"),d=u.getContext("2d");u.width=1,u.height=2*f,d.fillStyle="#444444",d.fillRect(0,0,1,2*f),d.fillStyle=c,d.fillRect(0,f,1,f),d.fillStyle="#ffffff",d.globalAlpha=.5,d.fillRect(0,f,1,1),d.globalAlpha=1;var h=document.createElement("canvas"),m=h.getContext("2d");return h.width=1,h.height=2*f,m.fillStyle="#444444",m.fillRect(0,0,1,2*f),m.fillStyle="#b70000",m.fillRect(0,f,1,f),m.globalAlpha=.5,m.fillStyle="#ffffff",m.fillRect(0,f,1,1),m.globalAlpha=1,function(){r.width=p,r.height=f,r.style.width=r.width+"px",r.style.height=r.height+"px",r.className="rs-canvas",e.appendChild(r),o.fillStyle="#444444",o.fillRect(0,0,r.width,r.height)}(),{draw:a}}function i(e,n){function a(e){r.drawImage(i,1,0,i.width-1,i.height,0,0,i.width-1,i.height);var n=0;t(e,function(t){var a=e[t]*i.height;r.fillStyle=c[t],r.fillRect(i.width-1,n,1,a),n+=a})}var i=document.createElement("canvas"),r=i.getContext("2d");return function(){i.width=p,i.height=f*n,i.style.width=i.width+"px",i.style.height=i.height+"px",i.className="rs-canvas",e.appendChild(i),r.fillStyle="#444444",r.fillRect(0,0,i.width,i.height)}(),{draw:a}}function r(e,t){function n(e){if(x&&x.average){v+=e,y++;var t=performance.now();t-w>=(x.avgMs||1e3)&&(g=v/y,v=0,w=t,y=0)}}function i(){d=performance.now(),l.userTimingAPI&&performance.mark(f+"-start"),C=!0}function r(){p=performance.now()-d,l.userTimingAPI&&(performance.mark(f+"-end"),C&&performance.measure(f,f+"-start",f+"-end")),n(p)}function o(){r(),i()}function s(){var e=x&&x.average?g:p;S.nodeValue=Math.round(100*e)/100;var t=x&&(x.below&&p<x.below||x.over&&p>x.over);I.draw(p,t),_.style.color=t?"#b70000":"#ffffff"}function c(){var e=performance.now(),t=e-d;m++,t>1e3&&(p=x&&!1===x.interpolate?m:1e3*m/t,m=0,d=e,n(p))}function u(e){p=e,n(p)}var d,f=e,p=0,m=0,g=0,v=0,w=performance.now(),y=0,_=document.createElement("div"),M=document.createElement("span"),b=document.createElement("div"),S=document.createTextNode(""),x=l?l.values[f.toLowerCase()]:null,I=new a(_,f,x),C=!1;return _.className="rs-counter-base",M.className="rs-counter-id",M.textContent=x&&x.caption?x.caption:f,b.className="rs-counter-value",b.appendChild(S),_.appendChild(M),_.appendChild(b),t?t.div.appendChild(_):h.appendChild(_),d=performance.now(),{set:u,start:i,tick:o,end:r,frame:c,value:function(){return p},draw:s}}function o(e){var n=e.toLowerCase();if(void 0===n&&(n="default"),m[n])return m[n];var a=null;l&&l.groups&&t(l.groups,function(e){var t=l.groups[parseInt(e,10)];a||-1===t.values.indexOf(n.toLowerCase())||(a=t)});var i=new r(n,a);return m[n]=i,i}function s(){t(l.plugins,function(e){l.plugins[e].update()}),t(m,function(e){m[e].draw()}),l&&l.fractions&&t(l.fractions,function(e){var n=l.fractions[parseInt(e,10)],a=[],i=m[n.base.toLowerCase()];i&&(i=i.value(),t(l.fractions[e].steps,function(t){var n=l.fractions[e].steps[parseInt(t,10)].toLowerCase(),r=m[n];r&&a.push(r.value()/i)})),n.graph.draw(a)})}var l=e||{},c=l.colours||["#850700","#c74900","#fcb300","#284280","#4c7c0c"],u=(l.CSSPath?l.CSSPath:"")+"rStats.css";(l.css||["https://fonts.googleapis.com/css?family=Roboto+Condensed:400,700,300",u]).forEach(function(e){n(e)}),l.values||(l.values={});var d,h,f=10,p=200,m={};return function(){if(l.plugins){l.values||(l.values={}),l.groups||(l.groups=[]),l.fractions||(l.fractions=[]);for(var e=0;e<l.plugins.length;e++)l.plugins[e].attach(o),t(l.plugins[e].values,function(t){l.values[t]=l.plugins[e].values[t]}),l.groups=l.groups.concat(l.plugins[e].groups),l.fractions=l.fractions.concat(l.plugins[e].fractions)}else l.plugins={};d=document.createElement("div"),d.className="rs-base",h=document.createElement("div"),h.className="rs-container",h.style.height="auto",d.appendChild(h),document.body.appendChild(d),l&&(l.groups&&t(l.groups,function(e){var t=l.groups[parseInt(e,10)],n=document.createElement("div");n.className="rs-group",t.div=n;var a=document.createElement("h1");a.textContent=t.caption,a.addEventListener("click",function(e){this.classList.toggle("hidden"),e.preventDefault()}.bind(n)),h.appendChild(a),h.appendChild(n)}),l.fractions&&t(l.fractions,function(e){var n=l.fractions[parseInt(e,10)],a=document.createElement("div");a.className="rs-fraction";var r=document.createElement("div");r.className="rs-legend";var o=0;t(l.fractions[e].steps,function(t){var n=document.createElement("p");n.textContent=l.fractions[e].steps[t],n.style.color=c[o],r.appendChild(n),o++}),a.appendChild(r),a.style.height=o*f+"px",n.div=a;var s=new i(a,o);n.graph=s,h.appendChild(a)}))}(),function(e){return e?o(e):{element:d,update:s}}},e.exports=window.rStats},2113:function(e,t,n){n(1248),e.exports=n(1504)},70:function(e,t,n){"use strict";var a=(n(19),n(2)),i=n.n(a),r=n(10),o=n.n(r),s=(n(168),n(184)),l=(n.n(s),n(166)),c=n(167),u=n(169),d=n(146);o.a.config({warnings:!1,longStackTraces:!1,cancellation:!0,monitoring:!1}),n.i(l.a)(),n.i(c.a)(),u.a.install(),n.i(d.a)(),window.publicLibraries={$:i.a},window.editorModels={}},700:function(e,t,n){"use strict";var a=n(10),i=n.n(a),r=n(14),o=n.n(r),s=n(18),l=n(44),c=n(19),u=n(16),d=n(87),h=function(){if("dev"!==c.a.buildMode){var e=!1;if(c.a.prodHookDomainsBlacklist.forEach(function(t){document.location.href.indexOf(t)>-1&&(e=!0)}),e)return}if(-1!==window.location.search.substr(1).indexOf("hook_")){for(var t,n="hook_".length,a=window.location.search.substr(1).split(/&+/g),i=0;i<a.length;++i){var r=a[i];if(-1!==r.indexOf("hook_")){t=r.substr(n,r.indexOf("=")-n);break}}if(t&&s.a.bool("hook_"+t)){var o="https://";return o+="prod"===t?"sketchfab.com":"fatvoxel"===t?"fatvoxel.com":t+".fatvoxel.com"}}},f=function(e,t){var n=new o.a.Model;return n.url=e+t,n.fetch().then(function(e){return window.prefetchedData[t]=e,e})},p=function(e,t){for(var a=["","animations","backgrounds","environments","hotspots","matcaps","sounds","textures"],r=[],o=0;o<a.length;++o){var s=n.i(d.a)(a[o],t);r.push(f(e,s))}return i.a.all(r).then(function(e){return new l.a(e[0])})},m=function(){var e=h();if(e){var t=n.i(u.a)().model;if(t){var a=p(e,t);l.a.get=function(){return a}}}};t.a=m},93:function(e,t,n){"use strict";var a=n(14),i=n.n(a);t.a=i.a.Router},998:function(e,t){var n={start:"-",stop:"-",load:"-",gotoAnnotation:"-",getAnnotationList:"-",lookat:"-",setFov:"-",getCurrentTime:"-",play:"-",pause:"-",seekTo:"-",getAnimations:"-",setCurrentAnimationByUID:"-",setCycleMode:"-",setSpeed:"-",getSceneGraph:"-",getNodeMap:"-",getMatrix:"-",setMatrix:"-",hide:"-",show:"-",translate:"-",rotate:"-",getRootMatrixNode:"-",getCameraLookAt:"-",setCameraLookAt:"-",getScreenShot:"-",getMaterialList:"-",getTextureList:"-",addTexture:"-",updateTexture:"-",setTextureQuality:"-",setMaterial:"-",setPostProcessing:"-",getPostProcessing:"-"};e.exports={"1.0.0":n,"1.0.1":n,"1.0.2":n}},999:function(e,t,n){"use strict";var a=n(6),i=n(0),r=(n.n(i),n(1001)),o=n(43),s=n(27),l=n(1017),c=n(1002),u=n(1e3),d=a.a.osg,h=a.a.osgAnimation,f=function(e){this._partial=e,this._events={},this._replayEmitter=new l.a,this._partial.on("model-loaded",function(){this._emitEvents()}.bind(this)),this._sceneGraphVisitor=new r.a,this._nodeMap=void 0};f.prototype={addGlobalListener:function(e){this._replayEmitter.subscribe(e)},intersectPoint:function(e,t,n,a){var i=this._getFeatureModel("material"),r=i.findFirstMaterial(e._nodePath);this._replayEmitter.emit("click",{position3D:t,position2D:n,normal:a,instanceID:e._nodePath[e._nodePath.length-1].getInstanceID(),material:r?r.getJSON():null})},_getFeatureModel:function(e){var t=this._partial.scene.getFeatures()[e];if(t)return t.getModel()},_getViewerOSG:function(){return this._getViewer()._viewer},_getViewer:function(){return this._partial.scene},_emitEvents:function(){var e=["viewerready","annotationFocus","annotationBlur","click"];this._partial.scene.on("all",function(t,n){-1!==e.indexOf(t)&&this._replayEmitter.emit(t,n)}.bind(this)),this.emitEvents=function(){}},_computeSceneGraph:function(){var e=this._sceneGraphVisitor;e.isDirty()&&this._getViewer().getRootModel().accept(e)},_getRootNode:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRootNode()},_getRealNodeMap:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRealNodeMap()},_getRepresentationNodeMap:function(){return this._computeSceneGraph(),this._sceneGraphVisitor.getRepresentationNodeMap()},_convertDataUriToImage:function(e,t,n){var a=this._getFeatureModel("material").getImageCollection();o.default.instance.getOrCreateImage(e).promise.then(function(i){var r=a.addNewImage({uid:t,url:e,width:i.getWidth(),height:i.getHeight(),name:e.slice(0,100)});n(null,r.getUID())}).catch(function(){n("failed to add texture")})},start:function(e){this._partial.start(),this.emitEvents(),e(null)},stop:function(e){this._partial.stop(),e(null)},load:function(e){this._partial.load(),e(null)},gotoAnnotation:function(e,t){var n=this._getFeatureModel("hotspot").get("hotspots"),a=n.at(e);n.trigger("select",a),t(null,e)},getAnnotationList:function(e){var t=this._getFeatureModel("hotspot"),n=t.get("hotspots"),a=n.toJSON();a.forEach(function(e){delete e.refreshAction}),e(null,a)},lookat:function(e,t,n,a){this.setCameraLookAt(e,t,n,a)},setFov:function(e,t){this._getFeatureModel("camera").set("fov",e),t(null,e)},getCurrentTime:function(e){var t=this._getFeatureModel("animation"),n=t.getCurrentAnimation(),a=n.get("duration");e(null,t.get("progress")*a/100)},play:function(e){this._getFeatureModel("animation").set("playing",!0),e(null)},pause:function(e){var t=this._getFeatureModel("animation");if(!t)return void e("no animation feature");t.set("playing",!1),e(null)},seekTo:function(e,t){var n=this._getFeatureModel("animation"),a=n.getCurrentAnimation().get("duration"),i=100*e/a;n.trigger("seek",i),t(null)},getAnimations:function(e){var t=this._getFeatureModel("animation"),n=[];t.get("animations").forEach(function(e){var t=[];t.push(e.get("uid")),t.push(e.get("name")),t.push(e.get("duration")),n.push(t)}),e(null,n)},setCurrentAnimationByUID:function(e,t){this._getFeatureModel("animation").set("currentUID",e),t(null)},setCycleMode:function(e,t){var n=this._getFeatureModel("animation");1===n.get("animations").length&&"all"===e&&(e="one"),n.set("cycleMode",e),t(null)},setSpeed:function(e,t){if(e<0)return void t("speed must be at least 0",null);this._getFeatureModel("animation").set("speed",e),t(null,e)},getSceneGraph:function(e){e(null,this._getRootNode())},getNodeMap:function(e){e(null,this._getRepresentationNodeMap())},getNodeMask:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?t(null,a.getNodeMask()):t("node with id "+e.toString()+" not found")},getMatrix:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?t(null,{local:a.getMatrix(),world:a.getWorldMatrices()[0]}):t("node with id "+e.toString()+" not found")},setMatrix:function(e,t,n){var a=this._getRealNodeMap(),i=a[e];d.mat4.copy(i.getMatrix(),t),i.dirtyBound(),n(null),s.a.draw()},hide:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?(a.setNodeMask(0),t(null)):t("show: node id "+e+" not found"),s.a.draw()},show:function(e,t){var n=this._getRealNodeMap(),a=n[e];a?(a.setNodeMask(-1),t(null)):t("show: node id "+e+" not found"),s.a.draw()},translate:function(){var e,t,n=arguments.length,a=arguments[n-1],i=arguments[0],r=arguments[1];4===n?e=arguments[2]:5===n&&(e=arguments[2],t=arguments[3]),e=e||0;var o=h[t]||h.easeOutQuad,l=this._getRealNodeMap();if(l[i].getTypeID()!==d.MatrixTransform.typeID)return void a("you can only translate MatrixTransform nodes");if(e>0){var u=d.vec3.create();d.mat4.getTranslation(u,l[i].getMatrix());var f=new c.a(u,r,e,o,function(e){l[i].removeUpdateCallback(f),a(null,e)});l[i].addUpdateCallback(f)}else d.mat4.setTranslation(l[i].getMatrix(),r),a(null,r);s.a.draw()},rotate:function(){var e=d.vec3.create(),t=d.vec3.create();return function(){var n,a,i=arguments.length,r=arguments[i-1],o=arguments[0],l=arguments[1];4===i?n=arguments[2]:5===i&&(n=arguments[2],a=arguments[3]),n=n||0;var u=h[a]||h.easeOutQuad,f=this._getRealNodeMap();if(f[o].getTypeID()!==d.MatrixTransform.typeID)return void r("you can only translate MatrixTransform nodes");var p=d.quat.create(),m=d.mat4.create();if(d.mat4.fromRotation(m,-l[0],d.vec3.set(t,l[1],l[2],l[3])),d.mat4.getRotation(p,m),n>0){var g=d.quat.create();d.mat4.getRotation(g,f[o].getMatrix());var v=new c.b(g,p,n,u,function(e){f[o].removeUpdateCallback(v),r(null,e)});f[o].addUpdateCallback(v)}else d.mat4.fromQuat(m,p),d.mat4.getTranslation(e,f[o].getMatrix()),d.mat4.setTranslation(m,e),d.mat4.copy(f[o].getMatrix(),m),r(null,l);s.a.draw()}}(),getRootMatrixNode:function(e){var t=this._getViewer().getRootModel();if(t||e("No scene loaded"),!this._nodeInTheMiddle){this._nodeInTheMiddle=new d.MatrixTransform,this._nodeInTheMiddle.setName("NITM");for(var n=t.getChildren(),a=0,i=n.length;a<i;a++)this._nodeInTheMiddle.addChild(n[a]);t.removeChildren(),t.addChild(this._nodeInTheMiddle)}e(null,this._nodeInTheMiddle.getInstanceID(),this._nodeInTheMiddle.getMatrix())},getCameraLookAt:function(e){var t=this._getViewerOSG().getManipulator(),n=[],a=[];t.getTarget(n),t.getEyePosition(a),e(null,{position:a,target:n})},setCameraLookAt:function(e,t,n,a){var i=this._getFeatureModel("camera"),r=this._getViewerOSG().getManipulator(),o=void 0===n?2:n;o<=0?r.setTargetAndEye(t,e):(i.setTargetAndEye(t,e),i.set("animationDuration",o)),a(null)},getScreenShot:function(){var e,t,n=arguments.length,a=arguments[n-1],i="image/jpeg";if(2===n)i=arguments[0];else if(3===n)e=arguments[0],t=arguments[1];else if(4===n)e=arguments[0],t=arguments[1],i=arguments[2];else if(1!==n)return void a("Wrong number of arguments, signature should be (width, height, [callback]), (width, height, mimetype, [callback]), (mimetype, [callback]) or ([callback]).");a(null,this._getViewer().getScreenShot(e,t).toDataURL(i))},getMaterialList:function(e){var t=this._getFeatureModel("material");e(null,n.i(i.values)(t.getJSON()))},getTextureList:function(e){e(null,this._getFeatureModel("material").getImageCollection().toJSON())},addTexture:function(e,t){this._convertDataUriToImage(e,void 0,t)},updateTexture:function(e,t,n){this._convertDataUriToImage(e,t,function(e){if(e)return void n(e);var a=this._getFeatureModel("material").getMaterials();for(var i in a){var r=a[i],o=r.getChannels();for(var s in o){var l=o[s],c=l.getTextureModel();c&&c.getUID()===t&&l.trigger("updateChannels")}}n(null,t)}.bind(this))},setTextureQuality:function(e,t){var a=this._getFeatureModel("quality");a.get("promiseReady").then(function(r){var o={ld:0,sd:1,hd:2};if(r.high||(o={ld:0,hd:1}),r.mid||(o={hd:0}),e in o){var s=o[e];a.set("level",s),t(null,"texture quality set to "+s)}else{var l=n.i(i.map)(o,function(e,t){return t}).join(", ");t(['Quality must be a string "ld", "sd" or "hd".'," Available qualities for this model are : ",l].join(""),null)}}.bind(this))},setMaterial:function(e,t){var n=this._getFeatureModel("material"),a=e.stateSetID,i=n.getMaterialByStateSetID(a);i.setMaterialJSON(e,n.getImageCollection()),i.trigger("apply"),t(null)},setPostProcessing:function(e,t){this._getFeatureModel("postProcess").set(e),t(null)},getPostProcessing:function(e){e(this._getFeatureModel("postProcess").toJSON())}},f.LegacyCore=u.a,t.a=f}},[2113])});
//# sourceMappingURL=embed-48f5721f09c8353fc988.js.map